"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1051],{51051:function(e,t,n){n.d(t,{r:function(){return T}});var i=n(27812),r=n(59499),o=n(50029),a=n(87794),s=n.n(a),l=n(6045),c=n(95858),d=n(20324),u=n(18990),p=n(84225),h=n(77549),f=n(94184),m=n.n(f),g=n(73710),x=n.n(g);function v(e){var t=e.scrollHeight,n=e.offsetHeight,i=e.scrollTop;return n>t?0:100-Math.round(i/(t-n)*100)}var b=n(41664),w=n.n(b),y=n(67294),j=n(53918),k=n(16835),C=n(88123),S=n(24697),N=n(85893),z=function(e){var t=e.onClose,n=e.value,i=(0,y.useRef)(null),r=(0,y.useState)(""),o=r[0],a=r[1],s=(0,S.Nr)(o,800),l=(0,k.Z)(s,1)[0];(0,y.useEffect)(function(){i.current.focus()},[]);var c=function(e){a(e.target.value)};(0,y.useEffect)(function(){n(l)},[l]);var d=function(){return i.current.focus()};return(0,N.jsxs)(_,{children:[(0,N.jsx)("div",{onClick:d,children:(0,N.jsx)("img",{src:C.Z.src,alt:"magnifying glass"})}),(0,N.jsx)("div",{onClick:d,children:(0,N.jsx)("form",{onSubmit:function(e){e.preventDefault()},autoComplete:"none",children:(0,N.jsx)("input",{type:"text",ref:i,value:o,onChange:c,autoComplete:"none",placeholder:"Escribe el nombre del juego o proveedor"})})}),(0,N.jsx)("div",{onClick:t,children:"Cerrar"})]})},_=j.default.div.withConfig({displayName:"Searchv2Input__InputStyled",componentId:"sc-fxghd0-0"})(["display:grid;grid-template-columns:30px 1fr auto;> :nth-child(1){padding:7px;}> :nth-child(2){display:flex;border-bottom:1px solid black;padding:5px;> form{display:flex;flex:1;input{flex:1;background:transparent;border:0;outline:0;}}}> :nth-child(3){display:grid;place-items:center;padding:5px 10px;cursor:pointer;}"]);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var q=function(e){var t,n,r,a=e.onClose,p=e.typeResults,h=(0,c.F)(),f=h.lobby,g=h.pathnameGame,x=h.pathnameProvider,b=h.pathnameTag,j=(0,y.useState)(p||"games"),k=j[0],C=j[1],S=(0,y.useState)(!1),_=S[0],O=S[1],q=(0,y.useState)(0),E=q[0],B=q[1],T=(0,y.useState)(0),D=T[0],H=T[1],M={ids:[],entities:{}},X=(0,l.Z)().session,F=(0,y.useState)(""),J=F[0],W=F[1],G={init:0,end:30,lobby:f,add:5,namegame:J},V=(0,y.useState)(G),Y=V[0],A=V[1],K=(0,d.Zc)({props:Y,session:X}),Q=K.data,U=K.isLoading,$=K.isFetching,ee=(0,y.useState)(M),et=ee[0],en=ee[1],ei=(0,y.useState)([]),er=ei[0],eo=ei[1],ea=(0,y.useState)([]),es=ea[0],el=ea[1],ec=U||$,ed=(r=(0,o.Z)(s().mark(function e(t){var n;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:!(30>v(t.target))||ec||_||A(P(P({},Y),{},{init:Y.end+1,end:Y.end+Y.add,add:2*Y.add}));case 2:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),eu=(0,y.useRef)(0);(0,y.useEffect)(function(){J&&(en(M),A(P(P({},G),{},{namegame:J})))},[J]),(0,y.useEffect)(function(){if(Q){if(Q.ids.length){if(O(!1),eu.current++,1===eu.current&&(eo(null==Q?void 0:Q.providers),el(null==Q?void 0:Q.tags)),Y.init===G.init){en({ids:Q.ids,entities:Q.entities});return}var e,t=(e=et.ids.concat(Q.ids),(0,i.Z)(new Set(e))),n=P(P({},et.entities),Q.entities);en({ids:t,entities:n})}else O(!0)}},[Q]);var ep=(0,y.useMemo)(function(){if(!J)return B(0),er.map(function(e){return{item:e,show:!0,initialized:!1}});var e=0,t=er.map(function(t){var n=t.name.replace(/\s/g,""),i=J.replace(/\s/g,"");return n.toLowerCase().includes(i.toLowerCase())?(e++,{item:t,show:!0,initialized:!0}):{item:t,show:!1,initialized:!0}});return B(e),t},[J,er]),eh=(0,y.useMemo)(function(){if(!J)return H(0),es.map(function(e){return{item:e,show:!0,initialized:!1}});var e=0,t=es.map(function(t){var n=t.replace(/\s/g,""),i=J.replace(/\s/g,"");return n.toLowerCase().includes(i.toLowerCase())?(e++,{item:t,show:!0,initialized:!0}):{item:t,show:!1,initialized:!0}});return H(e),t},[J,es]),ef=J&&(null==Q?void 0:Q.total)||0,em=(0,y.useMemo)(function(){var e=function(e){return m()(e,{active:k===e})},t=function(e){return m()("result",{hidden:!e})},n=function(e){return e>999?": +999":": ".concat(e)},i=function(e){var t=e?(null==e?void 0:e.toString().length)+1:0;return{"--ch":"".concat(t,"ch")}};return(0,N.jsxs)(L,{children:[(0,N.jsxs)("button",{type:"button",className:e("games"),style:i(ef),onClick:function(){C("games")},children:[(0,N.jsx)("span",{className:"text",children:"Juegos"}),(0,N.jsx)("span",{className:t(ef),children:n(ef)})]}),(0,N.jsxs)("button",{type:"button",className:e("providers"),style:i(E),onClick:function(){C("providers")},children:[(0,N.jsx)("span",{className:"text",children:"Proveedores"}),(0,N.jsx)("span",{className:t(E),children:n(E)})]}),(0,N.jsxs)("button",{type:"button",className:e("tags"),style:i(D),onClick:function(){C("tags")},children:[(0,N.jsx)("span",{className:"text",children:"Categor\xedas"}),(0,N.jsx)("span",{className:t(D),children:n(D)})]})]})},[k,E,ef,D]),eg="ontouchstart"in window;return(0,N.jsxs)(Z,{children:[(0,N.jsx)(z,{onClose:a,value:W}),em,(0,N.jsx)(R,{className:m()("results",{active:"providers"===k}),children:ep.map(function(e){var t=e.item,n=e.show,i=e.initialized;return(0,N.jsx)(w(),{href:{pathname:x,query:{id:t.provider}},children:(0,N.jsx)("a",{className:m()({show:!!i&&n,initialized:i}),onClick:a,children:t.name})},t.provider)})}),(0,N.jsx)(R,{className:m()("results",{active:"tags"===k}),children:eh.map(function(e){var t=e.item,n=e.show,i=e.initialized,r=t.toLowerCase().replace(/[^\w\s]/g," ").replace(/\s+|_/g," ");return(0,N.jsx)(w(),{href:{pathname:b,query:{id:t}},children:(0,N.jsx)("a",{className:m()({show:!!i&&n,initialized:i},"capitalize"),onClick:a,children:r})},r)})}),(0,N.jsxs)(I,{className:m()("results",{ontouchstart:eg,active:"games"===k}),onScroll:ed,children:[ec?"Cargando...":!(null!=Q&&null!==(t=Q.ids)&&void 0!==t&&t.length)&&!(null!=et&&null!==(n=et.ids)&&void 0!==n&&n.length)&&!ec&&J&&(0,N.jsx)("div",{children:"No se encontraron juegos."}),et.ids.map(function(e){var t=et.entities[e],n=t.web_name,i=t.sub_provider,r=t.logo,o=t.name,a=t.provider;return(0,N.jsx)(w(),{href:{pathname:g,query:{provider:i,gameName:n}},children:(0,N.jsx)("a",{children:(0,N.jsxs)("div",{onClick:function(){(0,u.JV)(n,"casino")},children:[(0,N.jsx)("div",{className:"image",children:(0,N.jsx)("img",{alt:"",src:"".concat("https://new.apuestatotal.com","/").concat(r),loading:"lazy"})}),(0,N.jsxs)("div",{className:"desc",children:[(0,N.jsx)("div",{className:"name",children:o}),(0,N.jsx)("div",{className:"provider",children:a})]})]})})},e)})]})]})},E=(0,j.css)(["",""],function(){if(!("ontouchstart"in window))return(0,j.css)(["scrollbar-gutter:stable;::-webkit-scrollbar{width:12px;}::-webkit-scrollbar-track{background-color:#e4e4e4;border-radius:100px;}::-webkit-scrollbar-thumb{box-shadow:inset 0 0 6px rgba(0,0,0,0.3);background-color:",";border-radius:100px;border:2px solid #e4e4e4;}::-webkit-scrollbar{width:12px;}::-webkit-scrollbar-track{border-radius:100vh;background:#1f2937;background-color:#e4e4e4;background:transparent;}::-webkit-scrollbar-thumb{background:linear-gradient(#ff0000,#dc00c9,#ffc700);}"],function(e){return x()(e.theme.contrastText,.1)})}),R=j.default.div.withConfig({displayName:"Searchv2Body__ResultProvidersStyled",componentId:"sc-1pgq4bx-0"})(["display:grid;grid-template-columns:repeat(2,1fr);place-content:flex-start;gap:7px;column-gap:0;overflow-y:auto;scrollbar-width:thin;"," transition:300ms;> a{font-weight:500;padding:5px;white-space:nowrap;transition:300ms;width:100%;color:",";overflow:hidden;text-overflow:ellipsis;min-height:2rem;&:nth-child(4n + 1),&:nth-child(4n + 2){color:hsl(0,0%,7.84313725490196%);}&:hover{color:",";}&.initialized:not(.show){transform:translateY(5px);pointer-events:none;opacity:0.4;color:#adadad;}&.initialized.show{opacity:1;order:-1;color:",";font-size:1.2rem;}}","{gap:12px;grid-template-columns:repeat(3,1fr);> a{&:nth-child(4n + 1),&:nth-child(4n + 2){color:",";}&:nth-child(6n + 1),&:nth-child(6n + 2),&:nth-child(6n + 3){color:hsl(0,0%,7.84313725490196%);}&:hover{color:",";}}}"],E,function(e){return e.theme.contrastText},function(e){return e.theme.primary},function(e){return e.theme.primary},p.q.min_width.desktopXS,function(e){return e.theme.contrastText},function(e){return e.theme.primary}),I=j.default.div.withConfig({displayName:"Searchv2Body__ResultStyled",componentId:"sc-1pgq4bx-1"})(["width:100%;overflow-y:auto;scrollbar-width:thin;display:flex;flex-direction:column;width:100%;gap:7px;font-size:0.9rem;"," ","{display:grid;grid-template-columns:1fr 1fr;grid-auto-rows:min-content;gap:12px;}> a{height:auto;display:flex;> div{width:100%;display:flex;gap:10px;> div.image{display:flex;flex:1 1 35%;border-radius:5px;overflow:hidden;--shadow-color:358deg 86% 22%;--shadow-color:0deg 5% 0%;","}> div.desc{display:flex;flex:1 1 65%;flex-direction:column;gap:3px;justify-content:center;.name{font-size:1rem;font-weight:500;}.provider{opacity:0.8;font-size:0.8rem;}}}}"],E,p.q.min_width.desktopXS,(0,h.q)({shadowColorHSL:"0deg 5% 0%"}).medium),L=j.default.div.withConfig({displayName:"Searchv2Body__TabsStyled",componentId:"sc-1pgq4bx-2"})(['display:flex;> button{background:transparent;transition:300ms;padding:5px 10px;font-weight:500;border-bottom:2px solid transparent;position:relative;&.games,&.providers,&.tags{padding-right:var(--ch);.result{position:absolute;right:0;font-feature-settings:"tnum";}.hidden{opacity:0;}&.active{color:',";border-bottom:2px solid ",";}}}"],function(e){return e.theme.primary},function(e){return e.theme.primary}),Z=j.default.div.withConfig({displayName:"Searchv2Body__Searchv2BodyStyled",componentId:"sc-1pgq4bx-3"})(["padding:14px;display:flex;flex-direction:column;gap:10px;height:100%;max-height:100%;position:relative;z-index:2;background:hsl(0,0%,100%,0.97);width:100%;"," > .results{transition:200ms;.capitalize{text-transform:capitalize;}}> .results.active{flex:1;pointer-events:all;opacity:1;padding-bottom:50px;}> .results:not(.active){flex:0;opacity:0;pointer-events:none;}","{max-width:calc(900px + 1vw);left:initial;top:initial;width:100%;height:80%;min-height:600px;padding:30px 50px;border-radius:12px;margin:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);}"],(0,h.q)({shadowColorHSL:"0deg 0% 20%"}).medium,p.q.min_width.desktopXS),B=n(73935),T=(0,y.forwardRef)(function(e,t){var n=e.typeResults,i=(0,y.useState)(!1),r=i[0],o=i[1],a=(0,y.useRef)(null),s=(0,y.useState)(!1),l=s[0],c=s[1];(0,y.useImperativeHandle)(t,function(){return{open:function(){o(!0)},close:function(){o(!1)},toggle:function(){o(!r)}}});var d=function(){o(!1)};return(0,y.useEffect)(function(){var e=document.body;if(r){var t=document.createElement("div");t.className="modal",a.current=t,e.appendChild(a.current);var n="".concat(window.innerWidth-e.clientWidth,"px");e.style.setProperty("padding-right",n,"important"),e.style.overflow="hidden",c(!0)}else{if(!(null!=a&&a.current))return;if((null==a?void 0:a.current)instanceof Node){if(!e)return;try{e.removeChild(a.current),e.style.paddingRight="initial",e.style.overflow="initial"}catch(i){console.log(i)}}c(!1)}},[r]),l&&a.current&&r?(0,B.createPortal)((0,N.jsxs)(D,{children:[(0,N.jsx)("div",{className:"backdrop",onClick:d}),(0,N.jsx)(q,{onClose:d,typeResults:n})]}),a.current):null}),D=j.default.div.withConfig({displayName:"Searchv2__Searchv2Styled",componentId:"sc-1n7j6j1-0"})(["height:100%;width:100%;position:fixed;left:0;top:0;z-index:999;@keyframes modalPotalBackdrop{from{background:rgba(0,0,0,0);}to{background:rgba(0,0,0,0.3);}}> .backdrop{backdrop-filter:blur(8px);position:absolute;left:0;top:0;height:100%;width:100%;z-index:1;animation:modalPotalBackdrop 300ms linear 1 forwards;}"])},88123:function(e,t){t.Z={src:"/_next/static/media/buscargray.b72eda2c.svg",height:29,width:29}}}]);