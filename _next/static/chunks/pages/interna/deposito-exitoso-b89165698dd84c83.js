(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6560],{66489:function(e,n,t){"use strict";var r=t(63366),i=t(87462),a=t(67294),o=t(63961),s=t(94780),l=t(70917),c=t(98216),d=t(71657),u=t(90948),m=t(22346),v=t(85893);let f=["className","color","disableShrink","size","style","thickness","value","variant"],h=e=>e,p,x,g,N,j=(0,l.F4)(p||(p=h`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),b=(0,l.F4)(x||(x=h`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),y=e=>{let{classes:n,variant:t,color:r,disableShrink:i}=e,a={root:["root",t,`color${(0,c.Z)(r)}`],svg:["svg"],circle:["circle",`circle${(0,c.Z)(t)}`,i&&"circleDisableShrink"]};return(0,s.Z)(a,m.C,n)},w=(0,u.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver(e,n){let{ownerState:t}=e;return[n.root,n[t.variant],n[`color${(0,c.Z)(t.color)}`]]}})(({ownerState:e,theme:n})=>(0,i.Z)({display:"inline-block"},"determinate"===e.variant&&{transition:n.transitions.create("transform")},"inherit"!==e.color&&{color:(n.vars||n).palette[e.color].main}),({ownerState:e})=>"indeterminate"===e.variant&&(0,l.iv)(g||(g=h`
      animation: ${0} 1.4s linear infinite;
    `),j)),E=(0,u.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,n)=>n.svg})({display:"block"}),k=(0,u.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver(e,n){let{ownerState:t}=e;return[n.circle,n[`circle${(0,c.Z)(t.variant)}`],t.disableShrink&&n.circleDisableShrink]}})(({ownerState:e,theme:n})=>(0,i.Z)({stroke:"currentColor"},"determinate"===e.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===e.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>"indeterminate"===e.variant&&!e.disableShrink&&(0,l.iv)(N||(N=h`
      animation: ${0} 1.4s ease-in-out infinite;
    `),b)),Z=a.forwardRef(function(e,n){let t=(0,d.Z)({props:e,name:"MuiCircularProgress"}),{className:a,color:s="primary",disableShrink:l=!1,size:c=40,style:u,thickness:m=3.6,value:h=0,variant:p="indeterminate"}=t,x=(0,r.Z)(t,f),g=(0,i.Z)({},t,{color:s,disableShrink:l,size:c,thickness:m,value:h,variant:p}),N=y(g),j={},b={},Z={};if("determinate"===p){let D=2*Math.PI*((44-m)/2);j.strokeDasharray=D.toFixed(3),Z["aria-valuenow"]=Math.round(h),j.strokeDashoffset=`${((100-h)/100*D).toFixed(3)}px`,b.transform="rotate(-90deg)"}return(0,v.jsx)(w,(0,i.Z)({className:(0,o.Z)(N.root,a),style:(0,i.Z)({width:c,height:c},b,u),ownerState:g,ref:n,role:"progressbar"},Z,x,{children:(0,v.jsx)(E,{className:N.svg,ownerState:g,viewBox:"22 22 44 44",children:(0,v.jsx)(k,{className:N.circle,style:j,ownerState:g,cx:44,cy:44,r:(44-m)/2,fill:"none",strokeWidth:m})})}))});n.Z=Z},22346:function(e,n,t){"use strict";t.d(n,{C:function(){return a}});var r=t(1588),i=t(34867);function a(e){return(0,i.ZP)("MuiCircularProgress",e)}let o=(0,r.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);n.Z=o},11036:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/interna/deposito-exitoso",function(){return t(12690)}])},69125:function(e,n,t){"use strict";var r=t(7297),i=t(85893);t(67294);var a=t(66489),o=t(53918);function s(){var e=(0,r.Z)(["\n    & {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        min-height: ",";\n        width: ",";\n        flex: 1;\n    }\n"]);return s=function(){return e},e}var l=function(e){var n=e.loading,t=e.size,r=e.minHeight,o=e.color,s=e.width;return void 0!==n&&n?(0,i.jsx)(c,{$minHeight:void 0===r?"100px":r,$width:void 0===s?"100%":s,children:(0,i.jsx)(a.Z,{color:void 0===o?"primary":o,size:void 0===t?30:t})}):null};n.Z=l;var c=o.default.div(s(),function(e){return e.$minHeight},function(e){return e.$width})},49669:function(e,n,t){"use strict";t.d(n,{f:function(){return i}});var r=t(32912),i=function(e){if(!e)return"";var n=new Date(e.replace(" ","T"));n.setHours(n.getHours()-5);var t=(0,r.Z)(n,"dd-MM-yyyy hh:mm aaaaa'm'").replace("12:00 am","00:00 pm");return"".concat(t)}},12690:function(e,n,t){"use strict";t.r(n);var r=t(47568),i=t(7297),a=t(70655),o=t(85893),s=t(69125),l=t(49669),c=t(38138),d=t(5434),u=t(69397),m=t(65116),v=t(9669),f=t.n(v),h=t(11163),p=t(67294),x=t(53918);function g(){var e=(0,i.Z)(["\n    & {\n        > h2 {\n            font-size: 1.5rem;\n            font-weight: 500;\n            padding-bottom: 1rem;\n        }\n\n        > .top {\n            font-size: 0.9rem;\n            color: ",";\n            padding-bottom: 2px;\n        }\n        > .bottom {\n            font-size: 1rem;\n            color: black;\n            padding-bottom: 12px;\n            &.link {\n                cursor: pointer;\n                color: ",";\n                text-decoration: underline;\n            }\n            &.guardar {\n                margin-top: 2rem;\n                color: ",";\n            }\n        }\n        > .niubiz {\n            margin-top: 2rem;\n        }\n    }\n"]);return g=function(){return e},e}function N(){var e=(0,i.Z)(["\n    & {\n        padding: 0.8rem 2rem;\n    }\n"]);return N=function(){return e},e}function j(){var e=(0,i.Z)(["\n                > svg {\n                    font-size: 3rem;\n                    color: ",";\n                }\n            "]);return j=function(){return e},e}function b(){var e=(0,i.Z)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    gap: 1rem;\n    width: 60%;\n    max-width: 140px;\n    > p {\n        line-height: 1.5;\n        font-size: 1rem;\n        text-align: center;\n    }\n    > svg {\n        font-size: 3rem;\n        color: ",";\n    }\n    ","\n"]);return b=function(){return e},e}function y(){var e=(0,i.Z)(["\n    min-height: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    padding: 1rem;\n    gap: 1rem;\n"]);return y=function(){return e},e}var w=function(){var e,n,t,i=(0,p.useState)(""),u=i[0],v=i[1],x=(0,p.useState)(""),g=x[0],N=x[1],j=(0,p.useState)(""),b=j[0],y=j[1],w=(0,m.z)().getUser(),S=(0,p.useState)(),C=S[0],_=S[1],P=(0,p.useState)(!0),z=P[0],I=P[1],$=(0,h.useRouter)(),R=function(){try{var e,n;null===(n=(null==window?void 0:null===(e=window.parent)||void 0===e?void 0:e.backAllDeposits())(window))||void 0===n||n.backAllDeposits()}catch(t){console.log(t)}},U=function(e){try{"parent"in window&&"dtRecargaExitosa"in window.parent?window.parent.dtRecargaExitosa(e):window.dtRecargaExitosa(e),window.dtRecargaExitosa=void 0,window.parent.dtRecargaExitosa=void 0}catch(n){console.log(n)}},F=(t=(0,r.Z)(function(e,n){var t;return(0,a.__generator)(this,function(i){var o;return t="".concat("https://wallet.apuestatotal.com/api","/payment/getOperationByHash?operationHash=").concat(e,"&db=").concat(n),f().get(t).then((o=(0,r.Z)(function(e){var n,t,r,i,o,s,l;return(0,a.__generator)(this,function(a){switch(o=null==e?void 0:null===(n=e.data)||void 0===n?void 0:null===(t=n.operation)||void 0===t?void 0:t.status,["NIUBIZ"].includes(s=null==e?void 0:null===(r=e.data)||void 0===r?void 0:null===(i=r.operation)||void 0===i?void 0:i.method)&&_(null==e?void 0:null===(l=e.data)||void 0===l?void 0:l.operation),o){case"DENIED":v("Algo pas\xf3, no pudimos procesar tu deposito."),N("DENIED");break;case"SUCCESS":v("\xa1Tu dep\xf3sito fue realizado con \xe9xito!"),N("SUCCESS");break;case"NEW":v("Estamos procesando su dep\xf3sito realizado en ".concat(s,". Conf\xedrmalo en tu historial de dep\xf3sito en breve.")),N("NEW");break;default:v("Ups! Ocurrio algo")}return y(s),I(!1),[2]})}),function(e){return o.apply(this,arguments)})).catch(function(){v("Ups! Ocurrio algo, not found."),I(!1)}),I(!1),[2]})}),function(e,n){return t.apply(this,arguments)});return((0,p.useEffect)(function(){g&&("SUCCESS"===g||"NEW"===g)&&U(b)},[g,b]),(0,p.useEffect)(function(){var e,n,t,r;(null==$?void 0:null===(e=$.query)||void 0===e?void 0:e.db)&&(null==$?void 0:null===(n=$.query)||void 0===n?void 0:n.hash)&&F(null==$?void 0:null===(t=$.query)||void 0===t?void 0:t.hash,null==$?void 0:null===(r=$.query)||void 0===r?void 0:r.db)},[$]),z)?(0,o.jsx)(D,{children:(0,o.jsx)(s.Z,{loading:z})}):(0,o.jsx)(D,{children:"NIUBIZ"===b?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Z,{$status:g,children:"DENIED"===g?(0,o.jsx)(c.WCb,{}):(0,o.jsx)(d.U5,{})}),"DENIED"===g&&(0,o.jsxs)(E,{children:[(0,o.jsx)("h2",{children:"Transacci\xf3n denegada"}),(0,o.jsx)("div",{className:"top",children:"N\xfamero de pedido"}),(0,o.jsx)("div",{className:"bottom",children:null==C?void 0:C.idempotence}),(0,o.jsx)("div",{className:"top",children:"Fecha y hora del pedido"}),(0,o.jsx)("div",{className:"bottom",children:(0,l.f)(null==C?void 0:C.operation_date)}),(0,o.jsx)("div",{className:"top",children:"Descripci\xf3n de la denegaci\xf3n"}),(0,o.jsx)("div",{className:"bottom",children:null==C?void 0:C.extra}),(0,o.jsxs)(k,{className:"niubiz",onClick:R,variant:"outlined",children:["<"," Vuelve a intentarlo aqu\xed"]})]}),"SUCCESS"===g&&(0,o.jsxs)(E,{children:[(0,o.jsx)("h2",{children:"Transacci\xf3n autorizada"}),(0,o.jsx)("div",{className:"top",children:"N\xfamero de pedido"}),(0,o.jsx)("div",{className:"bottom",children:null==C?void 0:C.idempotence}),(0,o.jsx)("div",{className:"top",children:"Nombre y apellido del tarjeta habiente"}),(0,o.jsxs)("div",{className:"bottom",children:[null==w?void 0:w.firstName," ",null==w?void 0:w.lastName]}),(0,o.jsx)("div",{className:"top",children:"Numero de tarjeta enmascarada"}),(0,o.jsx)("div",{className:"bottom",children:null!==(n=null==$?void 0:null===(e=$.query)||void 0===e?void 0:e.card)&&void 0!==n?n:""}),(0,o.jsx)("div",{className:"top",children:"Fecha y hora del pedido"}),(0,o.jsx)("div",{className:"bottom",children:(0,l.f)(null==C?void 0:C.operation_date)}),(0,o.jsx)("div",{className:"top",children:"Importe de la transacci\xf3n"}),(0,o.jsx)("div",{className:"bottom",children:new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN",maximumFractionDigits:2}).format(~~(null==C?void 0:C.amount)/100)}),(0,o.jsx)("div",{className:"top",children:"Tipo de moneda"}),(0,o.jsx)("div",{className:"bottom",children:null==C?void 0:C.currency}),(0,o.jsxs)("div",{className:"top",children:["Descripci\xf3n de el/los ","producto(s)"]}),(0,o.jsx)("div",{className:"bottom",children:"Pago Web"}),(0,o.jsx)("div",{className:"top"}),(0,o.jsx)("div",{className:"bottom guardar",children:"Guarde la informacion de este formulario"})]}),"NEW"===g&&(0,o.jsx)("div",{className:"",children:u})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(Z,{$status:g,children:["DENIED"===g?(0,o.jsx)(c.WCb,{}):(0,o.jsx)(d.U5,{}),(0,o.jsx)("p",{children:u})]}),"DENIED"===g&&(0,o.jsxs)(k,{onClick:R,variant:"outlined",children:["<"," Vuelve a intentarlo aqu\xed"]})]})})};n.default=w;var E=x.default.div(g(),function(e){return e.theme.palette.alternate11.main},function(e){return e.theme.palette.info3.main},function(e){return e.theme.palette.dark.main}),k=(0,x.default)(u.Z)(N()),Z=x.default.div(b(),function(e){return e.theme.palette.success2.main},function(e){return e.$status.includes("DENIED")?(0,x.css)(j(),function(e){return e.theme.palette.primary.main}):null}),D=x.default.div(y())}},function(e){e.O(0,[9401,2912,9774,2888,179],function(){return e(e.s=11036)}),_N_E=e.O()}]);