(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6560],{11036:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/interna/deposito-exitoso",function(){return t(12690)}])},49669:function(n,e,t){"use strict";t.d(e,{f:function(){return o}});var i=t(32912),o=function(n){if(!n)return"";var e=new Date(n.replace(" ","T"));e.setHours(e.getHours()-5);var t=(0,i.Z)(e,"dd-MM-yyyy hh:mm aaaaa'm'").replace("12:00 am","00:00 pm");return"".concat(t)}},12690:function(n,e,t){"use strict";t.r(e);var i=t(47568),o=t(7297),a=t(70655),r=t(85893),d=t(69125),l=t(49669),s=t(38138),c=t(5434),u=t(69397),m=t(65116),v=t(9669),p=t.n(v),f=t(11163),h=t(67294),x=t(53918);function N(){var n=(0,o.Z)(["\n    & {\n        > h2 {\n            font-size: 1.5rem;\n            font-weight: 500;\n            padding-bottom: 1rem;\n        }\n\n        > .top {\n            font-size: 0.9rem;\n            color: ",";\n            padding-bottom: 2px;\n        }\n        > .bottom {\n            font-size: 1rem;\n            color: black;\n            padding-bottom: 12px;\n            &.link {\n                cursor: pointer;\n                color: ",";\n                text-decoration: underline;\n            }\n            &.guardar {\n                margin-top: 2rem;\n                color: ",";\n            }\n        }\n        > .niubiz {\n            margin-top: 2rem;\n        }\n    }\n"]);return N=function(){return n},n}function j(){var n=(0,o.Z)(["\n    & {\n        padding: 0.8rem 2rem;\n    }\n"]);return j=function(){return n},n}function g(){var n=(0,o.Z)(["\n                > svg {\n                    font-size: 3rem;\n                    color: ",";\n                }\n            "]);return g=function(){return n},n}function E(){var n=(0,o.Z)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    gap: 1rem;\n    width: 60%;\n    max-width: 140px;\n    > p {\n        line-height: 1.5;\n        font-size: 1rem;\n        text-align: center;\n    }\n    > svg {\n        font-size: 3rem;\n        color: ",";\n    }\n    ","\n"]);return E=function(){return n},n}function b(){var n=(0,o.Z)(["\n    min-height: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    padding: 1rem;\n    gap: 1rem;\n"]);return b=function(){return n},n}var w=function(){var n,e,t,o=(0,h.useState)(""),u=o[0],v=o[1],x=(0,h.useState)(""),N=x[0],j=x[1],g=(0,h.useState)(""),E=g[0],b=g[1],w=(0,m.z)().getUser(),C=(0,h.useState)(),k=C[0],I=C[1],z=(0,h.useState)(!0),Z=z[0],U=z[1],q=(0,f.useRouter)(),T=function(){try{var n,e;null===(e=(null==window?void 0:null===(n=window.parent)||void 0===n?void 0:n.backAllDeposits())(window))||void 0===e||e.backAllDeposits()}catch(t){console.log(t)}},W=function(n){try{"parent"in window&&"dtRecargaExitosa"in window.parent?window.parent.dtRecargaExitosa(n):window.dtRecargaExitosa(n),window.dtRecargaExitosa=void 0,window.parent.dtRecargaExitosa=void 0}catch(e){console.log(e)}},F=(t=(0,i.Z)(function(n,e){var t;return(0,a.__generator)(this,function(o){var r;return t="".concat("https://wallet.apuestatotal.com/api","/payment/getOperationByHash?operationHash=").concat(n,"&db=").concat(e),p().get(t).then((r=(0,i.Z)(function(n){var e,t,i,o,r,d,l;return(0,a.__generator)(this,function(a){switch(r=null==n?void 0:null===(e=n.data)||void 0===e?void 0:null===(t=e.operation)||void 0===t?void 0:t.status,["NIUBIZ"].includes(d=null==n?void 0:null===(i=n.data)||void 0===i?void 0:null===(o=i.operation)||void 0===o?void 0:o.method)&&I(null==n?void 0:null===(l=n.data)||void 0===l?void 0:l.operation),r){case"DENIED":v("Algo pas\xf3, no pudimos procesar tu deposito."),j("DENIED");break;case"SUCCESS":v("\xa1Tu dep\xf3sito fue realizado con \xe9xito!"),j("SUCCESS");break;case"NEW":v("Estamos procesando su dep\xf3sito realizado en ".concat(d,". Conf\xedrmalo en tu historial de dep\xf3sito en breve.")),j("NEW");break;default:v("Ups! Ocurrio algo")}return b(d),U(!1),[2]})}),function(n){return r.apply(this,arguments)})).catch(function(){v("Ups! Ocurrio algo, not found."),U(!1)}),U(!1),[2]})}),function(n,e){return t.apply(this,arguments)});return((0,h.useEffect)(function(){N&&("SUCCESS"===N||"NEW"===N)&&W(E)},[N,E]),(0,h.useEffect)(function(){var n,e,t,i;(null==q?void 0:null===(n=q.query)||void 0===n?void 0:n.db)&&(null==q?void 0:null===(e=q.query)||void 0===e?void 0:e.hash)&&F(null==q?void 0:null===(t=q.query)||void 0===t?void 0:t.hash,null==q?void 0:null===(i=q.query)||void 0===i?void 0:i.db)},[q]),Z)?(0,r.jsx)(S,{children:(0,r.jsx)(d.Z,{loading:Z})}):(0,r.jsx)(S,{children:"NIUBIZ"===E?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(_,{$status:N,children:"DENIED"===N?(0,r.jsx)(s.WCb,{}):(0,r.jsx)(c.U5,{})}),"DENIED"===N&&(0,r.jsxs)(y,{children:[(0,r.jsx)("h2",{children:"Transacci\xf3n denegada"}),(0,r.jsx)("div",{className:"top",children:"N\xfamero de pedido"}),(0,r.jsx)("div",{className:"bottom",children:null==k?void 0:k.idempotence}),(0,r.jsx)("div",{className:"top",children:"Fecha y hora del pedido"}),(0,r.jsx)("div",{className:"bottom",children:(0,l.f)(null==k?void 0:k.operation_date)}),(0,r.jsx)("div",{className:"top",children:"Descripci\xf3n de la denegaci\xf3n"}),(0,r.jsx)("div",{className:"bottom",children:null==k?void 0:k.extra}),(0,r.jsxs)(D,{className:"niubiz",onClick:T,variant:"outlined",children:["<"," Vuelve a intentarlo aqu\xed"]})]}),"SUCCESS"===N&&(0,r.jsxs)(y,{children:[(0,r.jsx)("h2",{children:"Transacci\xf3n autorizada"}),(0,r.jsx)("div",{className:"top",children:"N\xfamero de pedido"}),(0,r.jsx)("div",{className:"bottom",children:null==k?void 0:k.idempotence}),(0,r.jsx)("div",{className:"top",children:"Nombre y apellido del tarjeta habiente"}),(0,r.jsxs)("div",{className:"bottom",children:[null==w?void 0:w.firstName," ",null==w?void 0:w.lastName]}),(0,r.jsx)("div",{className:"top",children:"Numero de tarjeta enmascarada"}),(0,r.jsx)("div",{className:"bottom",children:null!==(e=null==q?void 0:null===(n=q.query)||void 0===n?void 0:n.card)&&void 0!==e?e:""}),(0,r.jsx)("div",{className:"top",children:"Fecha y hora del pedido"}),(0,r.jsx)("div",{className:"bottom",children:(0,l.f)(null==k?void 0:k.operation_date)}),(0,r.jsx)("div",{className:"top",children:"Importe de la transacci\xf3n"}),(0,r.jsx)("div",{className:"bottom",children:new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN",maximumFractionDigits:2}).format(~~(null==k?void 0:k.amount)/100)}),(0,r.jsx)("div",{className:"top",children:"Tipo de moneda"}),(0,r.jsx)("div",{className:"bottom",children:null==k?void 0:k.currency}),(0,r.jsxs)("div",{className:"top",children:["Descripci\xf3n de el/los ","producto(s)"]}),(0,r.jsx)("div",{className:"bottom",children:"Pago Web"}),(0,r.jsx)("div",{className:"top"}),(0,r.jsx)("div",{className:"bottom guardar",children:"Guarde la informacion de este formulario"})]}),"NEW"===N&&(0,r.jsx)("div",{className:"",children:u})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(_,{$status:N,children:["DENIED"===N?(0,r.jsx)(s.WCb,{}):(0,r.jsx)(c.U5,{}),(0,r.jsx)("p",{children:u})]}),"DENIED"===N&&(0,r.jsxs)(D,{onClick:T,variant:"outlined",children:["<"," Vuelve a intentarlo aqu\xed"]})]})})};e.default=w;var y=x.default.div(N(),function(n){return n.theme.palette.alternate11.main},function(n){return n.theme.palette.info3.main},function(n){return n.theme.palette.dark.main}),D=(0,x.default)(u.Z)(j()),_=x.default.div(E(),function(n){return n.theme.palette.success2.main},function(n){return n.$status.includes("DENIED")?(0,x.css)(g(),function(n){return n.theme.palette.primary.main}):null}),S=x.default.div(b())}},function(n){n.O(0,[9401,2912,9774,2888,179],function(){return n(n.s=11036)}),_N_E=n.O()}]);