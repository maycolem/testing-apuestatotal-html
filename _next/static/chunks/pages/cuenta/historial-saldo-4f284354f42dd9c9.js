(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3623],{13134:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cuenta/historial-saldo",function(){return t(56355)}])},56355:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return nb}});var i,a,r,o,l,s=t(14924),d=t(26042),u=t(69396),c=t(7297),p=t(85893),f=t(69125),m=t(8942),h=t(5765),v=t(53918),x=t(94688),g=t(94184),E=t.n(g);function T(){var n=(0,c.Z)(["\n    & {\n        border: 1px solid ",";\n        border-radius: 8px;\n        padding: 10px;\n        padding-bottom: 0;\n        background: ",';\n        display: flex;\n        flex-direction: column;\n        /* align-items: center; */\n        gap: 10px;\n        box-shadow: rgba(149, 157, 165, 0.2) 0px 4px 10px;\n\n        .title-id {\n            text-align: center;\n            font-feature-settings: "tnum";\n            font-weight: 400;\n        }\n    }\n']);return T=function(){return n},n}function A(){var n=(0,c.Z)(["\n    display: flex;\n    justify-content: flex-start;\n    flex-wrap: wrap;\n    display: grid;\n    position: relative;\n    top: 1px;\n    border-top: 1px solid ",";\n    grid-auto-flow: dense;\n    grid-template-columns: repeat(auto-fill, minmax(calc(100% / 2), 1fr));\n\n    "," {\n        grid-template-columns: repeat(auto-fill, minmax(calc(100% / 3), 1fr));\n    }\n    .row {\n        display: flex;\n        flex-direction: column;\n        gap: 2px;\n        border-bottom: 1px solid ",";\n        padding-bottom: 7px;\n        padding-top: 7px;\n        padding-left: 0;\n        padding-right: 10px;\n\n        .title {\n            font-size: 0.75rem;\n            /* color: ","; */\n            text-transform: uppercase;\n            color: #1a1b25;\n            font-weight: 500;\n            /* font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif; */\n        }\n        .row-content {\n            &.negative {\n                color: ",';\n            }\n\n            white-space: nowrap;\n            text-overflow: ellipsis;\n            overflow: hidden;\n            color: #6e6e73;\n            font-size: 0.95rem;\n            font-feature-settings: "tnum";\n        }\n    }\n']);return A=function(){return n},n}function _(){var n=(0,c.Z)(["\n    /* background: ","; */\n    padding: 1rem 1rem;\n    padding-top: 0;\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n    overflow: hidden;\n"]);return _=function(){return n},n}var N=function(n){var e=n.data;return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(O,{children:e.map(function(n,e){return(0,p.jsxs)(P,{children:[(0,p.jsx)("div",{className:"title-id",children:n.operation}),(0,p.jsxs)(y,{children:[(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"title",children:"Fecha y Hora"}),(0,p.jsx)("div",{className:"row-content",children:n.operation_dateFormat})]}),(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"title",children:"Tipo Movimiento"}),(0,p.jsxs)("div",{className:"row-content",children:[n.type_nameTranslate," "]})]}),(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"title",children:"M\xe9todo"}),(0,p.jsx)("div",{className:"row-content",children:n.method_nameTranslate})]}),(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"title",children:"Monto"}),(0,p.jsx)("div",{className:E()("row-content amount",{negative:n.amount<0}),children:n.amountCurrency})]}),(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"title",children:"Saldo"}),(0,p.jsx)("div",{className:"row-content",children:n.balanceCurrency})]})]})]},n.operation+n.operation_date+e)})})})},P=v.default.div(T(),function(n){return n.theme.palette.alternate8.main},function(n){return n.theme.palette.light.main}),y=v.default.div(A(),function(n){return n.theme.palette.alternate8.main},x.q.min_width.tabletS,function(n){return n.theme.palette.alternate8.main},function(n){return n.theme.palette.alternate5.main},function(n){return n.theme.palette.primary.main}),O=v.default.div(_(),function(n){return n.theme.palette.alternate12.main}),S=t(13614),j=t(75921),b=t(98102),w=t(37858),Z=t(58439),I=t(73710),C=t.n(I);function M(){var n=(0,c.Z)(["\n	flex: 1;\n    overflow: auto;\n	min-width: max-content;\n"]);return M=function(){return n},n}function R(){var n=(0,c.Z)(["\n    .MuiTableCell-root {\n        color: ",";\n        background: ",';\n        font-family: "Rubik";\n        border-bottom: 1px solid ',";\n        padding: 8px 1rem;\n        font-weight: 500;\n        white-space: nowrap;\n        font-size: 0.8rem;\n    }\n"]);return R=function(){return n},n}function D(){var n=(0,c.Z)(['\n    .MuiTableCell-root {\n        font-family: "Rubik";\n        border-bottom: 1px solid ',';\n        padding: 8px 1rem;\n        font-weight: 400;\n        white-space: nowrap;\n        color: #6e6e73;\n        font-feature-settings: "tnum";\n        &.negative {\n            color: ',";\n        }\n    }\n"]);return D=function(){return n},n}var U=function(n){var e=n.data;return(0,p.jsx)(L,{className:"scroll-container",children:(0,p.jsx)("div",{children:(0,p.jsxs)(S.Z,{"aria-label":"sticky table",stickyHeader:!0,children:[(0,p.jsx)(Y,{children:(0,p.jsxs)(j.Z,{children:[(0,p.jsx)(b.Z,{title:"El ID del movimiento no es el ID de la apuesta",children:"ID MOVIMIENTO"}),(0,p.jsx)(b.Z,{children:"FECHA Y HORA"}),(0,p.jsx)(b.Z,{children:"TIPO DE MOVIMIENTO"}),(0,p.jsxs)(b.Z,{children:["M\xc9TODO"," "]}),(0,p.jsx)(b.Z,{align:"right",children:"MONTO"}),(0,p.jsx)(b.Z,{align:"right",children:"SALDO"})]})}),(0,p.jsx)(k,{children:e.map(function(n,e){return(0,p.jsxs)(j.Z,{children:[(0,p.jsx)(b.Z,{children:n.operation}),(0,p.jsx)(b.Z,{children:n.operation_dateFormat}),(0,p.jsx)(b.Z,{children:n.type_nameTranslate}),(0,p.jsx)(b.Z,{children:n.method_nameTranslate}),(0,p.jsx)(b.Z,{align:"right",className:E()({negative:n.amount<0}),children:n.amountCurrency}),(0,p.jsx)(b.Z,{align:"right",children:n.balanceCurrency})]},n.operation+n.operation_date+e)})})]})})})},L=v.default.div(M()),Y=(0,v.default)(w.Z)(R(),function(n){return n.theme.contrastText},function(n){return C()(n.theme.contrastText,.04)},function(n){return C()(n.theme.contrastText,.2)}),k=(0,v.default)(Z.Z)(D(),function(n){return C()(n.theme.contrastText,.2)},function(n){return n.theme.primary});function H(){var n=(0,c.Z)(["\n	overflow: auto;\n	width: 100%;\n"]);return H=function(){return n},n}var F,G,V,B,K,Q=function(n){var e=n.viewMode,t=n.data;return(0,p.jsx)(W,{children:"table"===e?(0,p.jsx)(U,{data:t}):(0,p.jsx)(N,{data:t})})},W=v.default.div(H()),z=t(12634),q=t(34386),J=function(n,e){switch(n){case"Go to page":q.f.push({event:"atm.event",eventName:"recarga_historial_de_saldo",option:"pagina ".concat(e),action:"click"});break;case"Go to next page":q.f.push({event:"atm.event",eventName:"recarga_historial_de_saldo",option:"siguiente",action:"click"});break;case"Go to previous page":q.f.push({event:"atm.event",eventName:"recarga_historial_de_saldo",option:"atras",action:"click"})}},X=t(29815);(F=i||(i={})).WINNING="WINNING",F.WAGER="WAGER",F.DEPOSIT="DEPOSIT",F.PAYOUT="PAYOUT",(G=a||(a={})).NIUBIZ="NIUBIZ",G.PROMETEO="PROMETEO",G.ASTROPAY="ASTROPAY",G.KUSHKI="KUSHKI",G.KUSHKI_TRANSFER_IN="KUSHKI_TRANSFER_IN",G.CASH_DEPOSIT_CASH="CASH_DEPOSIT_CASH",G.CASH="CASH",G.NUVEI="NUVEI",G.KASHIO="KASHIO",G.MONNET="MONNET",G.PAGOEFECTIVO="PAGOEFECTIVO",G.PAGOEFECTIVOQR="PAGOEFECTIVOQR",G.ATPAYMENTTELESERVICIOS="ATPAYMENTTELESERVICIOS",G.SAFETYPAY="SAFETYPAY",G.BANK_PAYOUT="BANK_PAYOUT",G.NIUBIZ_PAYOUT="NIUBIZ_PAYOUT",G.ATPAYMENTSERVICE_PAYOUT="ATPAYMENTSERVICE_PAYOUT",(V=r||(r={})).Atp="ATP",(B=o||(o={})).Pen="PEN",(K=l||(l={})).PROCESSED="PROCESSED",K.SUCCESS="SUCCESS",K.DENIED="DENIED",K.CANCELLED="CANCELLED",K.NEW="NEW",K.ACCEPTED="ACCEPTED";var $=[{value:a.NIUBIZ_PAYOUT,descripcion:"Niubiz",filter:"method",advanced:!0},{value:a.BANK_PAYOUT,descripcion:"Bank Transfer",filter:"method",advanced:!0},{value:a.ATPAYMENTTELESERVICIOS,descripcion:"Servicios Pago Apuesta Total",filter:"method",advanced:!0},{value:a.ATPAYMENTSERVICE_PAYOUT,descripcion:"Tienda AT",filter:"method",advanced:!0},{value:a.ATPAYMENTTELESERVICIOS,descripcion:"Apuesta Total Teleservicios",filter:"method",advanced:!0},],nn=[{value:"LAST-MOUNTH",descripcion:"\xdaltimos 30 d\xedas",filter:"op_date_init"},{value:"ALL",descripcion:"Todos",filter:"all"},].concat((0,X.Z)([{value:"DEPOSIT",descripcion:"Dep\xf3sito",filter:"type"},{value:"PAYOUT",descripcion:"Retiro",filter:"type"},{value:"REDEEM",descripcion:"Conversion Bono",filter:"type"},{value:"WAGER",descripcion:"Apuesta",filter:"type"},{value:"ROLLBACK",descripcion:"Rollback",filter:"type"},{value:"WINNING",descripcion:"Premio",filter:"type"},]),(0,X.Z)($)),ne=t(47568),nt=t(70655),ni=t(67294),na=function(n){var e,t=n.sizePerPage,i=n.total,a=(0,ni.useState)(1),r=a[0],o=a[1],l=(0,ni.useState)(!1),s=l[0],d=l[1],u=(e=(0,ne.Z)(function(n,e){return(0,nt.__generator)(this,function(n){switch(n.label){case 0:return d(!0),o(e),[4,(0,m.g)(200)];case 1:return n.sent(),d(!1),[2]}})}),function(n,t){return e.apply(this,arguments)});return{init:(r-1)*t,end:r*t,count:Math.ceil(i/t),page:r,updatePage:u,isUpdatePage:s}},nr=t(80609),no=t(43240),nl=t(17520),ns=t(32912),nd=function(n){var e=n.sizePerPage,t=void 0===e?"13":e,i=nr.T.getPeruTime(),a=new Date(new Date().setDate(i.getDate()-30)).setHours(0,0,0),r=(0,ns.Z)(a,"yyyy-MM-dd'T'HH:mm"),o=(0,nl.CG)(no.Up),l={amount:"",operation:"",type:"",op_date_init:r,op_date_end:"",init:"0",end:t,status:"",session:o,method:""},s=(0,ni.useState)(l),c=s[0],p=s[1];(0,ni.useEffect)(function(){o&&p((0,u.Z)((0,d.Z)({},c),{session:o}))},[o]);var f=function(n){p((0,d.Z)({},c,n))},m=function(n){p((0,u.Z)((0,d.Z)({},c,n),{op_date_init:r}))};return{query:c,sizePerPage:t,updateQuery:f,updateQueryWithLastMonth:m,resetQueryLastMonth:function(){p(l)},resetQueryAllRows:function(){p((0,u.Z)((0,d.Z)({},l),{op_date_init:"2021-01-01 00:00:00"}))},session:o,lastMonth:r}},nu=t(62284),nc=t(49669),np=t(67962),nf=t(34853),nm=function(n){var e=n.amount/100,t=n.previous_amount/100,i=null;return i=e>0?e+t:Math.abs(Math.abs(e)-t),{balanceCurrency:(0,nu.fO)(i),balance:i}},nh=function(n){var e;return null!==(e=({PAGOEFECTIVO:"PagoEfectivo",PAGOEFECTIVOQR:"PagoEfectivoQR"})[null==n?void 0:n.method])&&void 0!==e?e:null==n?void 0:n.method_name},nv=function(n){var e=(null==n?void 0:n.amount)/100;if("PAYOUT"!==n.type)return null==n?void 0:n.type;if("ACCEPTED"===n.status)return"Solicitud Retiro Aceptada";if("DENIED"===n.status)return e>0?"Solicitud Retiro Denegada":"Solicitud Retiro";if("PROCESSED"===n.status)return"Pagado";if("CANCELLED"===n.status)return e>0?"Solicitud Retiro Cancelado":"Solicitud Retiro";else if((null==n?void 0:n.status)==="NEW")return"Nueva Solicitud";else return null==n?void 0:n.type},nx=function(n){if(null==n?void 0:n.machine)return(null==n?void 0:n.machine_name)==="Altenar SportsBetting"?"Apuesta Deportivas":null==n?void 0:n.machine_name},ng=np.ll.injectEndpoints({endpoints:function(n){return{getBalanceHistory:n.query({query:function(n){var e=n.op_date_init,t=n.op_date_end,i=n.init,a=n.end,r=n.status,o=n.operation,l=n.amount,s=n.session,d=n.method,u=n.type;return s?{url:"data/getOperationsHistory",method:"POST",body:new URLSearchParams({company:"ATP",session:s,filter:JSON.stringify({op_date_init:e,op_date_end:t,operation:o,type:u,amount:l,status:r,method:d}),limits:JSON.stringify({init:i,end:a})})}:null},transformResponse:function(n,e,t){var i,a=n,r=[];return(null==a?void 0:a.result)==="OK"&&(null==a?void 0:a.data)&&(null==a||null===(i=a.data)||void 0===i||i.forEach(function(n){var e,t;n.balance=null===(e=nm(n))||void 0===e?void 0:e.balance,n.balanceCurrency=null===(t=nm(n))||void 0===t?void 0:t.balanceCurrency,n.amountCurrency=(0,nu.Aq)(null==n?void 0:n.amount),n.operation_dateFormat=(0,nc.f)(n.operation_date),n.method_nameTranslate="".concat(nf.ZP.t(nx(n))," ").concat(nf.ZP.t(nh(n))),n.type_nameTranslate=nf.ZP.t(nv(n)),r.push(n)})),a.data=r,a},keepUnusedDataFor:60,providesTags:function(n){return["getBalanceHistory"]}})}}}).useGetBalanceHistoryQuery,nE=t(64840),nT=t(73003),nA=t(18856),n_=t(96486);function nN(){var n=(0,c.Z)(["\n    > p {\n        color: ",';\n        font-feature-settings: "tnum";\n        max-width: 200px;\n        text-align: right;\n        padding: 14px 0px;\n        span {\n            font-weight: 500;\n            &.last30 {\n                white-space: nowrap;\n                font-weight: 400;\n            }\n        }\n    }\n']);return nN=function(){return n},n}function nP(){var n=(0,c.Z)(["\n    & {\n        display: flex;\n        flex: 1;\n        flex-direction: column;\n        padding: 0;\n        gap: 1rem;\n        width: 100%;\n    }\n"]);return nP=function(){return n},n}function ny(){var n=(0,c.Z)(["\n    display: flex;\n    padding: 0 14px;\n    align-items: center;\n    justify-content: space-between;\n"]);return ny=function(){return n},n}function nO(){var n=(0,c.Z)(["\n    /* background: ","; */\n    padding: 1rem 1rem;\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n    > nav {\n        display: flex;\n        justify-content: center;\n        > ul {\n            margin: auto;\n        }\n    }\n"]);return nO=function(){return n},n}function nS(){var n=(0,c.Z)(["\n    & {\n        display: flex;\n        flex: 1;\n        flex-direction: column;\n    }\n"]);return nS=function(){return n},n}function nj(){var n=(0,c.Z)(["\n    & {\n        display: flex;\n        flex: 1;\n        flex-direction: column;\n        padding: 0;\n        gap: 1rem;\n        width: 100%;\n    }\n"]);return nj=function(){return n},n}var nb=function(){var n,e,t=(0,h.Z)(x.q.min_width.tabletL),i=(0,h.Z)(x.q.min_width.mobileM),a=(0,h.Z)(x.q.min_width.desktopS),r=(0,ni.useState)(null),o=r[0],l=r[1],c=nd({sizePerPage:"13"}),v=c.query,g=c.sizePerPage,E=c.updateQuery,T=c.resetQueryLastMonth,A=c.resetQueryAllRows,_=c.session,N=c.updateQueryWithLastMonth,P=ng(v,{skip:!_}),y=P.data,O=P.isLoading,S=P.refetch,j=P.isFetching,b=null!==(n=null==y?void 0:y.data)&&void 0!==n?n:[],w=null!==(e=null==y?void 0:y.total)&&void 0!==e?e:0,Z=na({sizePerPage:g,total:w}),I=Z.count,C=Z.end,M=Z.init,R=Z.page,D=Z.updatePage,U=Z.isUpdatePage;(0,ni.useEffect)(function(){U&&(E((0,u.Z)((0,d.Z)({},v),{end:String(C),init:String(M)})),(0,m.g)(200).then(function(){document.documentElement.scrollIntoView({inline:"start",block:"start",behavior:"smooth"})}))},[U]);var L,Y,k=function(n){if((0,n_.isObject)(n))"CUSTOM_FILTER"===n.value&&(E((0,u.Z)((0,d.Z)({},v),{type:n.obj.type,method:n.obj.method,op_date_init:n.obj.dateObj.init,op_date_end:n.obj.dateObj.end,operation:n.obj.operation})),l(null));else{var e=nn.find(function(e){return e.value===n});switch(l(e),e.filter){case"op_date_init":"LAST-MOUNTH"===e.value&&T();break;case"all":A();break;default:N((0,u.Z)((0,d.Z)({},v),(0,s.Z)({},e.filter,e.value)))}}};return(0,p.jsxs)(nM,{children:[(0,p.jsx)(z.A,{onActivateFilter:k,items:nn}),(0,p.jsxs)(nI,{children:[(0,p.jsx)(nT.t,{loading:O||j,refetch:S,delayMS:1e3}),(Y=(0,p.jsxs)("p",{children:[(0,p.jsx)("span",{children:w})," resultados"]}),o&&!["ALL","LAST-MOUNTH"].includes(o.value)&&(Y=(0,p.jsxs)("p",{children:[(0,p.jsx)("span",{children:w})," resultados ",(0,p.jsx)("span",{className:"last30",children:"de los ultimos 30 dias"})]})),(0,p.jsx)(nw,{children:Y}))]}),b.length>0?(0,p.jsx)(nZ,{children:(0,p.jsx)(Q,{data:b,viewMode:a?"table":"cards"})}):O||j?(0,p.jsx)(f.Z,{loading:O||j}):(0,p.jsx)(nA.Z,{}),(0,p.jsx)(nC,{children:(0,p.jsx)(nE.Z,{color:"primary",count:I,onChange:function(n,e){D(n,e);var t=null==n?void 0:n.currentTarget,i=null==t?void 0:t.ariaLabel,a=(null==i?void 0:i.indexOf("page"))+4;J(null==i?void 0:i.slice(0,a),e)},page:R,shape:"rounded",variant:"text",boundaryCount:t?2:1,siblingCount:t?2:i?1:0})})]})},nw=v.default.div(nN(),function(n){return n.theme.palette.alternate11.main}),nZ=v.default.div(nP()),nI=v.default.div(ny()),nC=v.default.div(nO(),function(n){return n.theme.palette.alternate12.main}),nM=v.default.div(nS());v.default.div(nj())}},function(n){n.O(0,[3662,1465,2912,6581,4271,4356,7139,7103,9086,9774,2888,179],function(){return n(n.s=13134)}),_N_E=n.O()}]);